import{d as i,a as e}from"./axios-61e5193b.js";import{r as o}from"./index-f28331f7.js";const{VITE_URL:a}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"panduola666",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},c=i("userStore",{state:()=>({isLogin:!1}),actions:{checkLogin(){if(document.cookie.match("token")){const t=document.cookie.split(";").filter(s=>s.match("token"))[0].split("=")[1];e.defaults.headers.common.Authorization=t}e.post(`${a}/api/user/check`).then(()=>{if(this.isLogin)return;this.isLogin=!0,o.currentRoute._value.fullPath.includes("/admin")||o.push("/admin/products")}).catch(t=>{alert(t.response.data.message),this.isLogin=!1,o.push("/login")})}}});export{c as u};
